

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/geez6572/img/fluid.png">
  <link rel="icon" href="/geez6572/img/fluid.png">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="geezer">
  <meta name="keywords" content="">
  
    <meta name="description" content="emacs tutorialemacs initemacs keysä»‹ç»ä¸€äº›emacsçš„å¿«æ·é”®,ä»¥åŠå¦‚ä½•å®šä¹‰å¿«æ·é”® å®šä¹‰å¿«æ·é”® å®šä¹‰å…¨å±€å¿«æ·é”®å°†crtl-bç»‘å®šåˆ°whitespace-modeä¸Š 1(global-set-key (kbd &quot;C-b&quot;) &#x27;whitespace-mode)    å®šä¹‰å±€éƒ¨å¿«æ·é”®å±€éƒ¨å¿«æ·é”®åªå¯¹å½“å‰bufferæœ‰æ•ˆ,ä¸€æ—¦ç¦»å¼€å½“å‰buffer">
<meta property="og:type" content="article">
<meta property="og:title" content="emacs-lispå­¦ä¹ ">
<meta property="og:url" content="https://github.com/geez6572/2022/11/18/emacslisp/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="emacs tutorialemacs initemacs keysä»‹ç»ä¸€äº›emacsçš„å¿«æ·é”®,ä»¥åŠå¦‚ä½•å®šä¹‰å¿«æ·é”® å®šä¹‰å¿«æ·é”® å®šä¹‰å…¨å±€å¿«æ·é”®å°†crtl-bç»‘å®šåˆ°whitespace-modeä¸Š 1(global-set-key (kbd &quot;C-b&quot;) &#x27;whitespace-mode)    å®šä¹‰å±€éƒ¨å¿«æ·é”®å±€éƒ¨å¿«æ·é”®åªå¯¹å½“å‰bufferæœ‰æ•ˆ,ä¸€æ—¦ç¦»å¼€å½“å‰buffer">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-11-18T14:28:23.000Z">
<meta property="article:modified_time" content="2025-02-25T13:59:45.393Z">
<meta property="article:author" content="geez6572">
<meta property="article:tag" content="emacs">
<meta property="article:tag" content="emacs lisp">
<meta property="article:tag" content="elisp">
<meta property="article:tag" content="learn">
<meta name="twitter:card" content="summary_large_image">
  
  
  
  <title>emacs-lispå­¦ä¹  - Hexo</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/geez6572/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/geez6572/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/geez6572/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"github.com","root":"/geez6572/","version":"1.9.8","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/geez6572/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/geez6572/js/utils.js" ></script>
  <script  src="/geez6572/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 7.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/geez6572/">
      <strong>Geez`s Blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/geez6572/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>é¦–é¡µ</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/geez6572/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>å½’æ¡£</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/geez6572/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>åˆ†ç±»</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/geez6572/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>æ ‡ç­¾</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/geez6572/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>å…³äº</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/geez6572/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="emacs-lispå­¦ä¹ "></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2022-11-18 22:28" pubdate>
          2022å¹´11æœˆ18æ—¥ æ™šä¸Š
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          3.8k å­—
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          32 åˆ†é’Ÿ
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">emacs-lispå­¦ä¹ </h1>
            
            
              <div class="markdown-body">
                
                <h2 id="emacs-tutorial"><a href="#emacs-tutorial" class="headerlink" title="emacs tutorial"></a>emacs tutorial</h2><h2 id="emacs-init"><a href="#emacs-init" class="headerlink" title="emacs init"></a>emacs init</h2><h2 id="emacs-keys"><a href="#emacs-keys" class="headerlink" title="emacs keys"></a>emacs keys</h2><p>ä»‹ç»ä¸€äº›emacsçš„å¿«æ·é”®,ä»¥åŠå¦‚ä½•å®šä¹‰å¿«æ·é”®</p>
<h3 id="å®šä¹‰å¿«æ·é”®"><a href="#å®šä¹‰å¿«æ·é”®" class="headerlink" title="å®šä¹‰å¿«æ·é”®"></a>å®šä¹‰å¿«æ·é”®</h3><ul>
<li><p>å®šä¹‰å…¨å±€å¿«æ·é”®å°†crtl-bç»‘å®šåˆ°whitespace-modeä¸Š</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs lisp">(<span class="hljs-name">global-set-key</span> (<span class="hljs-name">kbd</span> <span class="hljs-string">&quot;C-b&quot;</span>) &#x27;whitespace-mode)<br></code></pre></td></tr></table></figure>


</li>
<li><p>å®šä¹‰å±€éƒ¨å¿«æ·é”®å±€éƒ¨å¿«æ·é”®åªå¯¹å½“å‰bufferæœ‰æ•ˆ,ä¸€æ—¦ç¦»å¼€å½“å‰bufferåˆ™ä¼šå¤±æ•ˆ</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs lisp">(<span class="hljs-name">local-set-key</span> (<span class="hljs-name">kbd</span> <span class="hljs-string">&quot;C-b&quot;</span>) &#x27;whitespace-mode)<br></code></pre></td></tr></table></figure>
</li>
<li><p>å–æ¶ˆæŸä¸ªå¿«æ·é”®</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs lisp">(<span class="hljs-name">global-set-key</span> (<span class="hljs-name">kbd</span> <span class="hljs-string">&quot;C-b&quot;</span>) <span class="hljs-literal">nil</span>)<br></code></pre></td></tr></table></figure></li>
</ul>
<h3 id="å®šä¹‰å¿«æ·é”®çš„è¯­æ³•"><a href="#å®šä¹‰å¿«æ·é”®çš„è¯­æ³•" class="headerlink" title="å®šä¹‰å¿«æ·é”®çš„è¯­æ³•"></a>å®šä¹‰å¿«æ·é”®çš„è¯­æ³•</h3><ul>
<li><p>å•ä¸ªä¿®é¥°é”®å’Œå•ä¸ªç‰¹æ®Šé”®</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs lisp">(<span class="hljs-name">global-set-key</span> (<span class="hljs-name">kbd</span> <span class="hljs-string">&quot;M-a&quot;</span>) &#x27;backward-char) <span class="hljs-comment">; Alt+a</span><br>(<span class="hljs-name">global-set-key</span> (<span class="hljs-name">kbd</span> <span class="hljs-string">&quot;C-a&quot;</span>) &#x27;backward-char) <span class="hljs-comment">; Ctrl+a</span><br>(<span class="hljs-name">global-set-key</span> (<span class="hljs-name">kbd</span> <span class="hljs-string">&quot;&lt;f3&gt;&quot;</span>)  &#x27;backward-char) <span class="hljs-comment">; F3 key</span><br><br></code></pre></td></tr></table></figure></li>
<li><p>å®šä¹‰å¸¦å‰ç¼€çš„å¿«æ·é”®å½“å®šä¹‰æŸä¸ªå¸¦å‰ç¼€çš„å¿«æ·é”®æ—¶éœ€è¦å…ˆå–æ¶ˆå‰ç¼€å¿«æ·é”®çš„ç»‘å®š.</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs lisp">(<span class="hljs-name">global-set-key</span> (<span class="hljs-name">kbd</span> <span class="hljs-string">&quot;&lt;f7&gt;&quot;</span>) <span class="hljs-literal">nil</span>) <span class="hljs-comment">; good idea to put nil to the starting key</span><br>(<span class="hljs-name">global-set-key</span> (<span class="hljs-name">kbd</span> <span class="hljs-string">&quot;&lt;f7&gt; &lt;f8&gt;&quot;</span>) &#x27;calendar)<br>(<span class="hljs-name">global-set-key</span> (<span class="hljs-name">kbd</span> <span class="hljs-string">&quot;C-e&quot;</span>) <span class="hljs-literal">nil</span>) <span class="hljs-comment">; good idea to put nil to the starting key</span><br>(<span class="hljs-name">global-set-key</span> (<span class="hljs-name">kbd</span> <span class="hljs-string">&quot;C-e a&quot;</span>) &#x27;calendar) <span class="hljs-comment">; Ctrl+e a</span><br>(<span class="hljs-name">global-set-key</span> (<span class="hljs-name">kbd</span> <span class="hljs-string">&quot;C-e SPC&quot;</span>) &#x27;calendar) <span class="hljs-comment">; Ctrl+e Space</span><br></code></pre></td></tr></table></figure>

<p>åœ¨major-modeä¸­æ·»åŠ å¿«æ·é”®</p>
</li>
<li><p>æ™®é€šæ–¹æ³•è¦åœ¨æŸä¸ªmajor-modeä¸Šæ·»åŠ å¿«æ·é”®ä½¿å…¶åªä½œç”¨äºè¯¥major-mode,<br>å…¶ä¸»è¦åŸç†æ˜¯åœ¨è¯¥major-modeä¸Šæ·»åŠ hook,ä½¿å¾—åœ¨å¼€å¯è¯¥major-mode<br>åè°ƒç”¨æˆ‘ä»¬è‡ªå®šä¹‰çš„å‡½æ•°,è€Œè‡ªå®šä¹‰çš„å‡½æ•°ä¸­æˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ªå±€éƒ¨å¿«æ·é”®è¿™æ ·å°±å¯ä»¥æ—¶çš„è¯¥å¿«æ·é”®åªå¯¹è¯¥major-modeæœ‰æ•ˆ</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs lisp">(<span class="hljs-name">when</span> (<span class="hljs-name">fboundp</span> &#x27;go-mode)<br>  (<span class="hljs-name">defun</span> my-go-config ()<br>    <span class="hljs-string">&quot;ä¸ºgo-modeæ·»åŠ å¿«æ·é”®&quot;</span><br>    (<span class="hljs-name">local-set-key</span> (<span class="hljs-name">kbd</span> <span class="hljs-string">&quot;C-b&quot;</span>) &#x27;gocf)<br>    <span class="hljs-comment">;;å…¶ä»–é…ç½®)</span><br>  (<span class="hljs-name">add-hook</span> &#x27;go-mode-hook &#x27;my-go-config))<br></code></pre></td></tr></table></figure>
</li>
<li><p>ç›´æ¥ä¿®æ”¹modeçš„é”®ä½æ˜ å°„å¦‚æœæˆ‘ä»¬çŸ¥é“æŸä¸ªmajor-modeçš„é”®ä½æ˜ å°„å˜é‡å,åˆ™å¯ä»¥ç›´æ¥é€šè¿‡å˜é‡åä¿®æ”¹</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs lisp">(<span class="hljs-name">progn</span><br><span class="hljs-comment">;; modify dired keys</span><br>  (<span class="hljs-name">require</span> &#x27;dired )<br>  (<span class="hljs-name">define-key</span> dired-mode-map (<span class="hljs-name">kbd</span> <span class="hljs-string">&quot;o&quot;</span>) &#x27;other-window)<br>  (<span class="hljs-name">define-key</span> dired-mode-map (<span class="hljs-name">kbd</span> <span class="hljs-string">&quot;2&quot;</span>) &#x27;delete-window)<br>  (<span class="hljs-name">define-key</span> dired-mode-map (<span class="hljs-name">kbd</span> <span class="hljs-string">&quot;3&quot;</span>) &#x27;delete-other-windows)<br>  (<span class="hljs-name">define-key</span> dired-mode-map (<span class="hljs-name">kbd</span> <span class="hljs-string">&quot;4&quot;</span>) &#x27;split-window-below)<br>  (<span class="hljs-name">define-key</span> dired-mode-map (<span class="hljs-name">kbd</span> <span class="hljs-string">&quot;C-o&quot;</span>) &#x27;find-file))<br></code></pre></td></tr></table></figure></li>
</ul>
<h3 id="åœ¨minor-modeä¸­æ·»åŠ å¿«æ·é”®"><a href="#åœ¨minor-modeä¸­æ·»åŠ å¿«æ·é”®" class="headerlink" title="åœ¨minor-modeä¸­æ·»åŠ å¿«æ·é”®"></a>åœ¨minor-modeä¸­æ·»åŠ å¿«æ·é”®</h3><p>minor-modeçš„é”®ä½æ˜ å°„å˜é‡å,ä¸€èˆ¬éƒ½æ˜¯â€™minor-modeå-mode-mapâ€™,æ‰€ä»¥è¦ä¸ºæŸä¸ª<br>minor-modeæ·»åŠ å¿«æ·é”®å¯ä»¥</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs lisp">(<span class="hljs-name">progn</span><br><span class="hljs-comment">;; change isearch&#x27;s keys to arrows</span><br>(<span class="hljs-name">define-key</span> isearch-mode-map (<span class="hljs-name">kbd</span> <span class="hljs-string">&quot;&lt;up&gt;&quot;</span>) &#x27;isearch-ring-retreat )<br>(<span class="hljs-name">define-key</span> isearch-mode-map (<span class="hljs-name">kbd</span> <span class="hljs-string">&quot;&lt;down&gt;&quot;</span>) &#x27;isearch-ring-advance )<br>(<span class="hljs-name">define-key</span> isearch-mode-map (<span class="hljs-name">kbd</span> <span class="hljs-string">&quot;&lt;left&gt;&quot;</span>) &#x27;isearch-repeat-backward)<br>(<span class="hljs-name">define-key</span> isearch-mode-map (<span class="hljs-name">kbd</span> <span class="hljs-string">&quot;&lt;right&gt;&quot;</span>) &#x27;isearch-repeat-forward)<br>)<br></code></pre></td></tr></table></figure>


<h3 id="minor-modeçš„å¿«æ·é”®ä¼˜å…ˆçº§"><a href="#minor-modeçš„å¿«æ·é”®ä¼˜å…ˆçº§" class="headerlink" title="minor-modeçš„å¿«æ·é”®ä¼˜å…ˆçº§"></a>minor-modeçš„å¿«æ·é”®ä¼˜å…ˆçº§</h3><p>minor-modeçš„å¿«æ·é”®ä¼˜å…ˆçº§å­˜æ”¾åœ¨ <strong>minor-mode-map-alist</strong><br>å®ƒæ˜¯ä¸€ä¸ªå…³è”åˆ—è¡¨,å¯é€šè¿‡ä¿®æ”¹è¯¥å˜é‡æ¥ä¿®æ”¹minor-modeä¼˜å…ˆçº§</p>
<h3 id="å®šä¹‰å¿«æ·é”®å‰ç¼€"><a href="#å®šä¹‰å¿«æ·é”®å‰ç¼€" class="headerlink" title="å®šä¹‰å¿«æ·é”®å‰ç¼€"></a>å®šä¹‰å¿«æ·é”®å‰ç¼€</h3><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs lisp"><span class="hljs-comment">;;å®šä¹‰å¿«æ·é”®å‰ç¼€å‘½ä»¤</span><br>(<span class="hljs-name">define-prefix-command</span> &#x27;geezer-prefix)<br><span class="hljs-comment">;;å°†ä»¥ä¸Šå‘½ä»¤ç»‘å®šåˆ°æŸä¸ªå¿«æ·é”®ä¸Š</span><br>(<span class="hljs-name">global-set-keys</span> (<span class="hljs-name">kbd</span> <span class="hljs-string">&quot;C-z&quot;</span>) &#x27;geezer-prefix)<br><span class="hljs-comment">;;ç»è¿‡ä»¥ä¸Šä¸¤æ­¥å°±å¯ä»¥æ˜¯çš„&#x27;C-z&#x27;æˆä¸ºä¸€ä¸ªå‰ç¼€æŒ‰é”®</span><br><span class="hljs-comment">;;ä¹‹ååªéœ€è¦åœ¨è¯¥å‰ç¼€æŒ‰é”®æ·»åŠ å³å¯</span><br>(<span class="hljs-name">define-key</span> my-keymap (<span class="hljs-name">kbd</span> <span class="hljs-string">&quot;&lt;f6&gt;&quot;</span>) &#x27;visual-line-mode)<br></code></pre></td></tr></table></figure>




<h3 id="åŒä¸€ä¸ªå‘½ä»¤åœ¨ä¸åŒmajor-modeçš„ä¸åŒä½œç”¨"><a href="#åŒä¸€ä¸ªå‘½ä»¤åœ¨ä¸åŒmajor-modeçš„ä¸åŒä½œç”¨" class="headerlink" title="åŒä¸€ä¸ªå‘½ä»¤åœ¨ä¸åŒmajor-modeçš„ä¸åŒä½œç”¨"></a>åŒä¸€ä¸ªå‘½ä»¤åœ¨ä¸åŒmajor-modeçš„ä¸åŒä½œç”¨</h3><p>è¦æ˜¯åŒä¸€ä¸ªå‘½ä»¤åœ¨ä¸åŒmajor-modeä¸­çš„ä½œç”¨ä¸åŒ,æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯å°è£…è¯¥å‘½ä»¤,<br>å†åœ¨å‘½ä»¤ä¸­åˆ¤æ–­å½“å‰major-mode<br>å‡è®¾æˆ‘ä»¬åœ¨x1-modeæ—¶æ‰§è¡Œè¯¥å‘½ä»¤ä¼šè°ƒç”¨x1-cmd<br>åœ¨x2-modeæ—¶,ä¸ºx2-cmd</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs lisp"><span class="hljs-comment">;;å®šä¹‰x1-cmdå‡½æ•°å’Œx2-cmdå‡½æ•°</span><br>(<span class="hljs-name">defun</span> x1-cmd () ())<br>(<span class="hljs-name">defun</span> x2-cmd () ())<br>(<span class="hljs-name">defun</span> geezer-smart-cmd ()<br>  (<span class="hljs-name">interactive</span>)<br>  (<span class="hljs-name">cond</span><br>   ((<span class="hljs-name">string-equal</span> major-mode <span class="hljs-string">&quot;x1-mode&quot;</span>) (<span class="hljs-name">x1-cmd</span>))<br>   ((<span class="hljs-name">string-equal</span> major-mode <span class="hljs-string">&quot;x2-mode&quot;</span>) (<span class="hljs-name">x2-cmd</span>))<br>   (<span class="hljs-name">t</span> <span class="hljs-literal">nil</span>)<br>  ))<br></code></pre></td></tr></table></figure>


<h3 id="å®šä¹‰å¯ä¸´æ—¶é‡å¤ä½¿ç”¨çš„å¿«æ·é”®"><a href="#å®šä¹‰å¯ä¸´æ—¶é‡å¤ä½¿ç”¨çš„å¿«æ·é”®" class="headerlink" title="å®šä¹‰å¯ä¸´æ—¶é‡å¤ä½¿ç”¨çš„å¿«æ·é”®"></a>å®šä¹‰å¯ä¸´æ—¶é‡å¤ä½¿ç”¨çš„å¿«æ·é”®</h3><p>åœ¨emacsæœ‰è¿™æ ·çš„æ“ä½œ,è°ƒç”¨æŸä¸ªå‘½ä»¤åå°±å¯ä»¥é‡å¤æŒ‰ä½æŒ‡å®šé”®æ¥é‡å¤æ‰§è¡Œè¯¥å‘½ä»¤,è€Œä¸”è¿™ä¸ªæ“ä½œæ˜¯å¯ä»¥ä¸­æ–­çš„,ä¸­æ–­åä¹‹å‰çš„æŒ‰é”®å°±ä¼šå¤±æ•ˆ.è¿™å°±å¥½æ¯”åœ¨æµè§ˆå™¨ä¸­æˆ‘ä»¬å¯ä»¥æŒ‰ä½ctrlé”®,ç„¶åæ»šåŠ¨é¼ æ ‡å°±èƒ½å®ç°æ”¾å¤§ç¼©å°,è€Œæ¾å¼€ctrlé”®åå°±æ²¡æœ‰è¿™ç§æ•ˆæœäº†.<br>åœ¨emacsä¹Ÿæœ‰è¿™æ ·çš„æ“ä½œ,æ¯”å¦‚ <strong>text-scale-adjust</strong> è°ƒç”¨è¯¥å‘½ä»¤å,å…è®¸æŒ‰ <strong>+</strong> é”®æ”¾å¤§,æŒ‰ <strong>-</strong><br>é”®ç¼©å°ç­‰æ“ä½œ,è€Œç»“æŸè¯¥å‘½ä»¤åå°±ä¼šå¤±å»è¯¥æ•ˆæœä¸‹é¢æˆ‘ä»¬æ¥å®ç°ä¸‹è¿™ä¸ªæ“ä½œ</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs lisp">(<span class="hljs-name">defun</span> geezer-forward-word ()<br>  <span class="hljs-string">&quot;ç§»åŠ¨å…‰æ ‡&quot;</span><br>  (<span class="hljs-name">interactive</span>)<br>  (<span class="hljs-name">progn</span><br>    (<span class="hljs-name">forward-char</span>)<br>    (<span class="hljs-name">set-transient-map</span><br>     (<span class="hljs-name">let</span> (($kmap (<span class="hljs-name">make-sparse-keymap</span>)))<br>       (<span class="hljs-name">define-key</span> $kmap (<span class="hljs-name">kbd</span> <span class="hljs-string">&quot;r&quot;</span>) &#x27;geezer-forward-word)<br>       (<span class="hljs-name">define-key</span> $kmap (<span class="hljs-name">kbd</span> <span class="hljs-string">&quot;l&quot;</span>) &#x27;geezer-backward-word)<br>       $kmap<br>       )<br>     )<br>    )<br>  )<br>(<span class="hljs-name">defun</span> geezer-backward-word ()<br>  <span class="hljs-string">&quot;ç§»åŠ¨å…‰æ ‡&quot;</span><br>  (<span class="hljs-name">interactive</span>)<br>  (<span class="hljs-name">progn</span><br>    (<span class="hljs-name">forward-char</span>)<br>    (<span class="hljs-name">set-transient-map</span><br>     (<span class="hljs-name">let</span> (($kmap (<span class="hljs-name">make-sparse-keymap</span>)))<br>       (<span class="hljs-name">define-key</span> $kmap (<span class="hljs-name">kbd</span> <span class="hljs-string">&quot;r&quot;</span>) &#x27;geezer-forward-word)<br>       (<span class="hljs-name">define-key</span> $kmap (<span class="hljs-name">kbd</span> <span class="hljs-string">&quot;l&quot;</span>) &#x27;geezer-backward-word)<br>       $kmap<br>       )<br>     )<br>    )<br>  )<br></code></pre></td></tr></table></figure>

<p>ä»¥ä¸Šä»£ç ä¸­ <strong>set-transient-map</strong> æ¥å—ä¸€ä¸ªkeymap,å¹¶ä¸”ä½¿ç”¨è¯¥keymapä¸€æ¬¡,å¹¶ä¸”è¯¥keymapçš„ä¼˜å…ˆçº§ä¼šé«˜äºå…¶ä»–çš„minor-mode<br>è€Œletä¸­çš„ä»£ç ,åˆ™è¿”å›ä¸€ä¸ª keymap,ä½¿ç”¨è¯¥keymapåæŒ‰ræˆ–è€…léƒ½ä¼šæ‰§è¡Œä¸€ä¸ªé€’å½’å‡½æ•°ä»¥æ­¤å®ç°é‡å¤è°ƒç”¨,è¿™æ ·åœ¨è°ƒç”¨è¯¥å‡½æ•°å,å¯ä»¥é‡å¤ä½¿ç”¨rå’Œlå®ç°å¯¹åº”çš„æ“ä½œ.æŒ‰C-gå¯ç»“æŸä¹Ÿå¯ä»¥è‡ªå®šä¹‰ä¸€ä¸ªé”®ä½ç»“æŸ,ç»“æŸårå’Œlçš„åŠŸèƒ½ä¼šè¿˜åŸ,</p>
<h3 id="åœ¨emacsä¸­è¾“å…¥è¡¨æƒ…-åŠå…¶ä»–unicodeç¬¦å·"><a href="#åœ¨emacsä¸­è¾“å…¥è¡¨æƒ…-åŠå…¶ä»–unicodeç¬¦å·" class="headerlink" title="åœ¨emacsä¸­è¾“å…¥è¡¨æƒ…,åŠå…¶ä»–unicodeç¬¦å·"></a>åœ¨emacsä¸­è¾“å…¥è¡¨æƒ…,åŠå…¶ä»–unicodeç¬¦å·</h3><p>xxxxxxxxxxÂ uint32_t reverseBits(uint32_t n) {    uint32_t rs &#x3D; 0;    for (int i &#x3D; 0; i &lt; 32 &amp;&amp; n; i++) {        rs &#x3D; rs | ((n &amp; 1) &lt;&lt; (31 - i));        n&#x3D;n&gt;&gt;1;    }    return rs;}cpp</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs lisp">(<span class="hljs-name">define-key</span> key-translation-map (<span class="hljs-name">kbd</span> <span class="hljs-string">&quot;&lt;f8&gt;&quot;</span>) (<span class="hljs-name">kbd</span> <span class="hljs-string">&quot;â€¢&quot;</span>))<br>     <span class="hljs-comment">;; set keys to insert math symbol</span><br>(<span class="hljs-name">define-key</span> key-translation-map (<span class="hljs-name">kbd</span> <span class="hljs-string">&quot;&lt;f9&gt; p&quot;</span>) (<span class="hljs-name">kbd</span> <span class="hljs-string">&quot;Ï†&quot;</span>))<br>(<span class="hljs-name">define-key</span> key-translation-map (<span class="hljs-name">kbd</span> <span class="hljs-string">&quot;&lt;f9&gt; x&quot;</span>) (<span class="hljs-name">kbd</span> <span class="hljs-string">&quot;Î¾&quot;</span>))<br>(<span class="hljs-name">define-key</span> key-translation-map (<span class="hljs-name">kbd</span> <span class="hljs-string">&quot;&lt;f9&gt; i&quot;</span>) (<span class="hljs-name">kbd</span> <span class="hljs-string">&quot;âˆ&quot;</span>))<br>(<span class="hljs-name">define-key</span> key-translation-map (<span class="hljs-name">kbd</span> <span class="hljs-string">&quot;&lt;f9&gt; &lt;right&gt;&quot;</span>) (<span class="hljs-name">kbd</span> <span class="hljs-string">&quot;â†’&quot;</span>))<br><span class="hljs-comment">;; set keys to insert emoji</span><br>(<span class="hljs-name">define-key</span> key-translation-map (<span class="hljs-name">kbd</span> <span class="hljs-string">&quot;&lt;f9&gt; 1&quot;</span>) (<span class="hljs-name">kbd</span> <span class="hljs-string">&quot;ğŸ˜…&quot;</span>))<br>(<span class="hljs-name">define-key</span> key-translation-map (<span class="hljs-name">kbd</span> <span class="hljs-string">&quot;&lt;f9&gt; 2&quot;</span>) (<span class="hljs-name">kbd</span> <span class="hljs-string">&quot;â¤&quot;</span>))<br></code></pre></td></tr></table></figure>

<p>è¿™é‡Œä¸æ¨èä½¿ç”¨ <strong>global-set-key</strong> çš„æ–¹å¼,å°±åƒä¸‹é¢è¿™ç§</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs lisp">(<span class="hljs-name">global-set-key</span> (<span class="hljs-name">kbd</span> <span class="hljs-string">&quot;&lt;f8&gt;&quot;</span>) (<span class="hljs-name">lambda</span> () (<span class="hljs-name">interactive</span>) (<span class="hljs-name">insert</span> <span class="hljs-string">&quot;â†’&quot;</span>)))<br></code></pre></td></tr></table></figure>

<p>è¿™ç§æ–¹æ³•çš„ç¡®å¯è¡Œ,ä½†åœ¨ä½¿ç”¨isearchæ—¶ä¼šå¤±æ•ˆ</p>
<h3 id="äº¤æ¢é”®ç›˜æŒ‰é”®"><a href="#äº¤æ¢é”®ç›˜æŒ‰é”®" class="headerlink" title="äº¤æ¢é”®ç›˜æŒ‰é”®"></a>äº¤æ¢é”®ç›˜æŒ‰é”®</h3><p>äº¤æ¢f11å’Œf12</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs lisp">(<span class="hljs-name">define-key</span> key-translation-map (<span class="hljs-name">kbd</span> <span class="hljs-string">&quot;&lt;f11&gt;&quot;</span>) (<span class="hljs-name">kbd</span> <span class="hljs-string">&quot;&lt;f12&gt;&quot;</span>))<br>(<span class="hljs-name">define-key</span> key-translation-map (<span class="hljs-name">kbd</span> <span class="hljs-string">&quot;&lt;f12&gt;&quot;</span>) (<span class="hljs-name">kbd</span> <span class="hljs-string">&quot;&lt;f11&gt;&quot;</span>))<br></code></pre></td></tr></table></figure>


<h3 id="é¼ æ ‡æ“ä½œ"><a href="#é¼ æ ‡æ“ä½œ" class="headerlink" title="é¼ æ ‡æ“ä½œ"></a>é¼ æ ‡æ“ä½œ</h3><ul>
<li>å–æ¶ˆé¼ æ ‡çš„åŠ é€Ÿ<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs lisp">(<span class="hljs-name">setq</span> mouse-wheel-progressive-speed <span class="hljs-literal">nil</span>)<br></code></pre></td></tr></table></figure></li>
<li>æ§åˆ¶é¼ æ ‡æ¯æ¬¡ç§»åŠ¨çš„è¡Œæ•°æ˜¯é¼ æ ‡æ¯æ¬¡èƒ½å¤Ÿç§»åŠ¨ä¸¤è¡Œ<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs lisp">(<span class="hljs-name">setq</span> mouse-wheel-scroll-amount &#x27;(<span class="hljs-number">2</span>))<br></code></pre></td></tr></table></figure></li>
<li>å–æ¶ˆé¼ æ ‡é«˜äº®<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs lisp">(<span class="hljs-name">setq</span> mouse-highlight <span class="hljs-literal">nil</span>)<br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="é¼ æ ‡çš„è¯­æ³•"><a href="#é¼ æ ‡çš„è¯­æ³•" class="headerlink" title="é¼ æ ‡çš„è¯­æ³•"></a>é¼ æ ‡çš„è¯­æ³•</h4><table>
<thead>
<tr>
<th>é¼ æ ‡æŒ‰é”®</th>
<th>elispè¡¨ç¤º</th>
</tr>
</thead>
<tbody><tr>
<td>é¼ æ ‡å·¦é”®</td>
<td>(kbd â€œ&lt;mouse-1&gt;â€)</td>
</tr>
<tr>
<td>é¼ æ ‡æ»šè½®é”®</td>
<td>(kbd â€œ&lt;mouse-2&gt;â€)</td>
</tr>
<tr>
<td>é¼ æ ‡å³é”®</td>
<td>(kbd â€œ&lt;mouse-3&gt;â€)</td>
</tr>
<tr>
<td>é¼ æ ‡æ»šè½®å‘å‰(linux)</td>
<td>(kbd â€œ&lt;mouse-4&gt;â€)</td>
</tr>
<tr>
<td>é¼ æ ‡æ»šè½®å‘å(linux)</td>
<td>(kbd â€œ&lt;mouse-5&gt;â€)</td>
</tr>
<tr>
<td>é¼ æ ‡æ»šè½®å‘å‰(mac,win)</td>
<td>(kbd â€œ&lt;wheel-up&gt;â€)</td>
</tr>
<tr>
<td>é¼ æ ‡æ»šè½®å‘å(mac,win)</td>
<td>(kbd â€œ&lt;wheel-down&gt;â€)</td>
</tr>
</tbody></table>
<h2 id="lisp-basics"><a href="#lisp-basics" class="headerlink" title="lisp basics"></a>lisp basics</h2><h3 id="åŸºç¡€"><a href="#åŸºç¡€" class="headerlink" title="åŸºç¡€"></a>åŸºç¡€</h3><ul>
<li><p>è¾“å‡ºå‡½æ•°print<br>æ ¼å¼:(print OBJECT &amp;optional PRINTCHARFUN)<br>printæ¥å—ä¸€ä¸ªè¾“å‡ºå¯¹è±¡å’Œä¸€ä¸ªè¾“å‡ºçš„ç›®æ ‡buffer<br>objectå³ä¸ºè¾“å‡ºå¯¹è±¡,printcharfunå³è¾“å‡ºçš„ç›®æ ‡buffer</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs lisp">(<span class="hljs-name">progn</span><br>  (<span class="hljs-name">setq</span> gbuffer (<span class="hljs-name">generate-new-buffer</span> <span class="hljs-string">&quot;*my output*&quot;</span>))<br>  (<span class="hljs-name">print</span> <span class="hljs-string">&quot;fasdfs&quot;</span> gbuffer)<br>  (<span class="hljs-name">switch-to-buffer</span> gbuffer))<br></code></pre></td></tr></table></figure>
</li>
<li><p>unicodeå­—ç¬¦è¡¨ç¤º<br><strong>\uxxxx</strong> :æ¥å—å››ä¸ª16è¿›åˆ¶æ•°<br><strong>\u00xxxxxx</strong> :æ¥å—å…­ä¸ª16è¿›åˆ¶æ•°</p>
</li>
<li><p>å¤„ç†å­—ç¬¦ä¸²çš„å‡½æ•°</p>
<table>
<thead>
<tr>
<th>å‡½æ•°</th>
<th>ç¤ºä¾‹</th>
<th>ä½œç”¨</th>
<th>ç»“æœ</th>
</tr>
</thead>
<tbody><tr>
<td>length</td>
<td>(length â€œabcâ€)</td>
<td>è·å¾—â€abcâ€é•¿åº¦</td>
<td>3</td>
</tr>
<tr>
<td>substring</td>
<td>(substring â€œabc123â€ 0 3)</td>
<td>æˆªå–å­—ç¬¦ä¸²0-3ä¹‹é—´çš„å­å­—ç¬¦ä¸²</td>
<td>abc</td>
</tr>
<tr>
<td>concat</td>
<td>(concat â€œsomeâ€ â€œthingâ€)</td>
<td>å­—ç¬¦ä¸²æ‹¼æ¥</td>
<td>something</td>
</tr>
<tr>
<td>split-string</td>
<td>(split-string â€œxy_007_catâ€ â€œ_â€)</td>
<td>ä»¥â€™_â€™æˆªå–å­—ç¬¦ä¸²</td>
<td>(â€œxyâ€,â€007â€,â€catâ€)</td>
</tr>
<tr>
<td>string-to-number</td>
<td></td>
<td>å­—ç¬¦ä¸²è½¬æ•°å­—</td>
<td></td>
</tr>
<tr>
<td>number-to-string</td>
<td></td>
<td>æ•°å­—è½¬å­—ç¬¦</td>
<td></td>
</tr>
</tbody></table>
</li>
<li><p>ç›¸ç­‰åˆ¤æ–­<br>equal:åˆ¤æ–­æ•°æ®ç±»å‹å’Œå€¼æ˜¯å¦ç›¸åŒ<br>eq:åˆ¤æ–­æ˜¯å¦ä¸ºåŒä¸€å¯¹è±¡<br>eql:ä¸eqå¾ˆåƒä½†ä¸¤ä¸ªç›¸åŒçš„æµ®ç‚¹æ•°ä¼šè¿”å›t</p>
</li>
</ul>
<h3 id="æ•°æ®ç±»å‹"><a href="#æ•°æ®ç±»å‹" class="headerlink" title="æ•°æ®ç±»å‹"></a>æ•°æ®ç±»å‹</h3><ul>
<li>mapcar<br>(mapcar FUNCTION SEQUENCE)<br>ä¼šè¿”å›å¤„ç†åçš„ç»“æœ</li>
<li>mapc<br>ä¸mapcarä¸€æ ·ä½†ä¸ä¼šè¿”å›ç»“æœ,è€Œè¿”å›nil</li>
</ul>
<h2 id="practical-emacs-lisp"><a href="#practical-emacs-lisp" class="headerlink" title="practical emacs lisp"></a>practical emacs lisp</h2><h3 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><h4 id="å…‰æ ‡ä½ç½®"><a href="#å…‰æ ‡ä½ç½®" class="headerlink" title="å…‰æ ‡ä½ç½®"></a>å…‰æ ‡ä½ç½®</h4><table>
<thead>
<tr>
<th>å‡½æ•°</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>point</td>
<td>è¿”å›å½“å‰å…‰æ ‡ä½ç½®,å…¶å€¼ä¸ºå‰é¢å­—ç¬¦ä¸ªæ•°,åŒ…æ‹¬ç©ºæ ¼å’Œå›è½¦</td>
</tr>
<tr>
<td>region-beginning</td>
<td>è¿”å›é€‰ä¸­åŒºåŸŸçš„å¼€å¤´å­—ç¬¦ä½ç½®</td>
</tr>
<tr>
<td>region-end</td>
<td>è¿”å›é€‰ä¸­åŒºåŸŸçš„ç»“å°¾å­—ç¬¦ä½ç½®</td>
</tr>
<tr>
<td>line-beginning-position</td>
<td>è¿”å›è¡Œé¦–å­—ç¬¦ä½ç½®</td>
</tr>
<tr>
<td>line-end-position</td>
<td>è¿”å›è¡Œä¸ºå­—ç¬¦ä½ç½®</td>
</tr>
<tr>
<td>point-min</td>
<td>è¿”å›æ•´ä¸ªæ–‡ä»¶å¼€å¤´ä½ç½®</td>
</tr>
<tr>
<td>point-max</td>
<td>è¿”å›æ•´ä¸ªæ–‡ä»¶ç»“å°¾ä½ç½®</td>
</tr>
</tbody></table>
<h4 id="å…‰æ ‡ç§»åŠ¨å’Œæ–‡æœ¬æœç´¢"><a href="#å…‰æ ‡ç§»åŠ¨å’Œæ–‡æœ¬æœç´¢" class="headerlink" title="å…‰æ ‡ç§»åŠ¨å’Œæ–‡æœ¬æœç´¢"></a>å…‰æ ‡ç§»åŠ¨å’Œæ–‡æœ¬æœç´¢</h4><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs lisp"><span class="hljs-comment">;;è·³è½¬åˆ°39å­—ç¬¦çš„ä½ç½®</span><br> (<span class="hljs-name">goto-char</span> <span class="hljs-number">39</span>)<br><span class="hljs-comment">;;ä½¿å…‰æ ‡å‰ç§»å’Œåç§»å››ä¸ªå­—ç¬¦</span><br>(<span class="hljs-name">forward-char</span> <span class="hljs-number">4</span>)<br>(<span class="hljs-name">backward-char</span> <span class="hljs-number">4</span>)<br><span class="hljs-comment">;;å‘å‰æœ&quot;some&quot;å’Œå‘åæœç´¢&quot;some&quot;</span><br>(<span class="hljs-name">search-forward</span> <span class="hljs-string">&quot;some&quot;</span>) <span class="hljs-comment">; to end of â€œsomeâ€</span><br>(<span class="hljs-name">search-backward</span> <span class="hljs-string">&quot;some&quot;</span>) <span class="hljs-comment">; to beginning of â€œsomeâ€</span><br><span class="hljs-comment">;;å‘å‰æœç´¢æ•°å­—å’Œå‘åæœç´¢æ•°å­—</span><br>(<span class="hljs-name">re-search-forward</span> <span class="hljs-string">&quot;[0-9]&quot;</span>) <span class="hljs-comment">; digit</span><br>(<span class="hljs-name">re-search-backward</span> <span class="hljs-string">&quot;[0-9]&quot;</span>)<br><span class="hljs-comment">;;å°†å…‰æ ‡å‰ç§»å’Œå°†å…‰æ ‡åç§»,çŸ¥é“æ‰¾åˆ°éå°å†™å­—æ¯</span><br>(<span class="hljs-name">skip-chars-forward</span> <span class="hljs-string">&quot;a-z&quot;</span>)<br>(<span class="hljs-name">skip-chars-backward</span> <span class="hljs-string">&quot;a-z&quot;</span>)<br></code></pre></td></tr></table></figure>


<h4 id="ä¿®æ”¹æ–‡æœ¬"><a href="#ä¿®æ”¹æ–‡æœ¬" class="headerlink" title="ä¿®æ”¹æ–‡æœ¬"></a>ä¿®æ”¹æ–‡æœ¬</h4><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs lisp"><span class="hljs-comment">;;ä»å…‰æ ‡å¼€å§‹åˆ é™¤9ä¸ªå­—ç¬¦</span><br>(<span class="hljs-name">delete-char</span> <span class="hljs-number">9</span>)<br><span class="hljs-comment">;;åˆ é™¤3-10ä½ç½®çš„å­—ç¬¦</span><br>(<span class="hljs-name">delete-region</span> <span class="hljs-number">3</span> <span class="hljs-number">10</span>)<br><span class="hljs-comment">;;åœ¨å½“å‰å…‰æ ‡å¤„æ’å…¥å­—ç¬¦ä¸²</span><br>(<span class="hljs-name">insert</span> <span class="hljs-string">&quot;i â™¥ cats&quot;</span>)<br><span class="hljs-comment">;;è·å–å½“å‰buffer71-300çš„å­—ç¬¦ä¸²,å¹¶èµ‹å€¼ç»™x</span><br>(<span class="hljs-name">setq</span> x (<span class="hljs-name">buffer-substring</span> <span class="hljs-number">71</span> <span class="hljs-number">300</span>))<br><span class="hljs-comment">;;å°†7-300å¤„çš„å­—æ¯è½¬ä¸ºå¤§å†™</span><br>(<span class="hljs-name">capitalize-region</span> <span class="hljs-number">71</span> <span class="hljs-number">300</span>)<br></code></pre></td></tr></table></figure>


<h4 id="bufferæ“ä½œ"><a href="#bufferæ“ä½œ" class="headerlink" title="bufferæ“ä½œ"></a>bufferæ“ä½œ</h4><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs lisp"><span class="hljs-comment">;;è·å–bufferåç§°</span><br>(<span class="hljs-name">buffer-name</span>)<br><span class="hljs-comment">;;è¿”å›å½“å‰bufferæ–‡ä»¶çš„ç»å¯¹è·¯å¾„</span><br>(<span class="hljs-name">buffer-file-name</span>)<br><br><span class="hljs-comment">;; switch to the buffer named xyz</span><br>(<span class="hljs-name">switch-to-buffer</span> <span class="hljs-string">&quot;xyz&quot;</span>)<br><br><span class="hljs-comment">;;ä¿å­˜å½“å‰buffer</span><br>(<span class="hljs-name">save-buffer</span>)<br><br><span class="hljs-comment">;; å…³é—­åä¸º&quot;xyz&quot;çš„buffer</span><br>(<span class="hljs-name">kill-buffer</span> <span class="hljs-string">&quot;xyz&quot;</span>)<br><br><span class="hljs-comment">;;ä¸´æ—¶å°†&quot;xyz&quot;bufferä½œä¸ºå½“å‰buffer,å‡½æ•°ç»“æŸåå°†è¿”å›ä¹‹å‰æ“ä½œçš„buffer</span><br>(<span class="hljs-name">with-current-buffer</span> <span class="hljs-string">&quot;practical-elisp.el&quot;</span><br>  <span class="hljs-comment">;;è¿™é‡Œå¯ä»¥å†™ä¸€äº›æ’å…¥åˆ é™¤ç­‰æ“ä½œ</span><br>)<br></code></pre></td></tr></table></figure>


<h4 id="æ–‡ä»¶æ“ä½œ"><a href="#æ–‡ä»¶æ“ä½œ" class="headerlink" title="æ–‡ä»¶æ“ä½œ"></a>æ–‡ä»¶æ“ä½œ</h4><ul>
<li><p>åŸºæœ¬æ“ä½œ</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs lisp">  <span class="hljs-comment">;; open a file (in a buffer)</span><br>(<span class="hljs-name">find-file</span> <span class="hljs-string">&quot;~/&quot;</span>)<br><br><br><span class="hljs-comment">;; same as â€œSave Asâ€.</span><br>(<span class="hljs-name">write-file</span> path)<br><br><span class="hljs-comment">;; insert file into current position</span><br>(<span class="hljs-name">insert-file-contents</span> path)<br><br><span class="hljs-comment">;; append a text block to file</span><br>(<span class="hljs-name">append-to-file</span> start-pos end-pos path)<br><br><span class="hljs-comment">;; renaming file</span><br>(<span class="hljs-name">rename-file</span> file-name new-name)<br><br><span class="hljs-comment">;; copying file</span><br>(<span class="hljs-name">copy-file</span> old-name new-name)<br><br><span class="hljs-comment">;; deleting file</span><br>(<span class="hljs-name">delete-file</span> file-name)<br><br><span class="hljs-comment">;; get dir path</span><br>(<span class="hljs-name">file-name-directory</span>  full-path)<br><br><span class="hljs-comment">;; get filename part</span><br>(<span class="hljs-name">file-name-nondirectory</span> full-path)<br><br><span class="hljs-comment">;; get filename&#x27;s suffix</span><br>(<span class="hljs-name">file-name-extension</span> file-name)<br><br><span class="hljs-comment">;; get filename sans suffix</span><br>(<span class="hljs-name">file-name-sans-extension</span> file-name)<br></code></pre></td></tr></table></figure></li>
<li><p>narrowæ“ä½œ<br>narrowæ“ä½œå¯ä»¥ä½¿æ–‡ä»¶åªæœ‰æŒ‡å®šçš„éƒ¨åˆ†å¯è§,è€Œå…¶ä½™éƒ¨åˆ†ä¸å¯è§,é™¤æ­¤ä»¥å¤–å®ƒçš„æ•ˆæœä¸åˆ é™¤æ•ˆæœå‡ ä¹ç›¸åŒ,å®ƒä¼šå¯¹å…‰æ ‡è¡Œæ•°ç­‰äº§ç”Ÿå½±å“.å¯ä»¥è°ƒç”¨â€widenâ€æŠŠåˆšæ‰éšè—çš„éƒ¨åˆ†æ˜¾ç¤ºå‡ºæ¥</p>
<table>
<thead>
<tr>
<th>å‡½æ•°</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>narrow-to-defun</td>
<td>ä»…æ˜¾ç¤ºå½“å‰å…‰æ ‡æ‰€åœ¨çš„å‡½æ•°</td>
</tr>
<tr>
<td>narrow-to-page</td>
<td>ä»…æ˜¾ç¤ºå½“å‰é¡µé¢ä¸­å¯è§çš„å†…å®¹</td>
</tr>
<tr>
<td>narrow-to-region</td>
<td>ä»…æ˜¾ç¤ºæŒ‡å®šä½ç½®çš„å†…å®¹</td>
</tr>
<tr>
<td>widen</td>
<td>æ˜¾ç¤ºéšè—éƒ¨åˆ†çš„å†…å®¹</td>
</tr>
<tr>
<td>buffer-narrow-p</td>
<td>åˆ¤æ–­å½“å‰bufferæ˜¯å¦æœ‰éšè—å†…å®¹</td>
</tr>
<tr>
<td>save-excursion</td>
<td>ä¿å­˜å½“å‰å…‰æ ‡ä½ç½®,æ‰§è¡Œå®Œbodyé‡Œçš„å†…å®¹åè¿”å›</td>
</tr>
<tr>
<td>save-restriction</td>
<td>ä¿å­˜å½“å‰ç¼“å†²åŒº,æ‰§è¡Œå®Œbodyé‡Œçš„å†…å®¹åè¿”å›é€šå¸¸ä¸narrowä¸€èµ·ä½¿ç”¨</td>
</tr>
</tbody></table>
</li>
</ul>
<h4 id="æ¡ˆä¾‹"><a href="#æ¡ˆä¾‹" class="headerlink" title="æ¡ˆä¾‹"></a>æ¡ˆä¾‹</h4><ul>
<li>æ›¿æ¢é€‰ä¸­åŒºåŸŸçš„æ–‡æœ¬<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs lisp">(<span class="hljs-name">defun</span> geezer-replace-greek-region ()<br> (<span class="hljs-name">interactive</span>)<br> (<span class="hljs-name">let</span> ((<span class="hljs-name">start</span> (<span class="hljs-name">region-beginning</span>))<br>       (<span class="hljs-name">end</span> (<span class="hljs-name">region-end</span>)))<br>   (<span class="hljs-name">save-restriction</span><br>     (<span class="hljs-name">narrow-to-region</span> start end)<br>     (<span class="hljs-name">goto-char</span> (<span class="hljs-name">point-min</span>))<br>     (<span class="hljs-name">while</span> (<span class="hljs-name">search-forward</span> <span class="hljs-string">&quot;a&quot;</span> <span class="hljs-literal">nil</span> <span class="hljs-literal">t</span>)<br>       (<span class="hljs-name">replace-match</span> <span class="hljs-string">&quot;A&quot;</span> <span class="hljs-literal">nil</span> <span class="hljs-literal">t</span>))<br>     (<span class="hljs-name">goto-char</span> (<span class="hljs-name">point-min</span>))<br>     (<span class="hljs-name">while</span> (<span class="hljs-name">search-forward</span> <span class="hljs-string">&quot;b&quot;</span> <span class="hljs-literal">nil</span> <span class="hljs-literal">t</span>)<br>       (<span class="hljs-name">replace-match</span> <span class="hljs-string">&quot;B&quot;</span> <span class="hljs-literal">nil</span> <span class="hljs-literal">t</span>)))))<br></code></pre></td></tr></table></figure></li>
<li>åˆ é™¤æ‹¬å·ä¸­çš„å†…å®¹<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs lisp">(<span class="hljs-name">defun</span> geezer-delete-pair ()<br> (<span class="hljs-name">interactive</span>)<br> (<span class="hljs-name">save-excursion</span><br>   (<span class="hljs-name">let</span> (<span class="hljs-name">p1</span> p2)<br>     (<span class="hljs-name">skip-chars-backward</span> <span class="hljs-string">&quot;^([&#123;&lt;&gt;&quot;</span>)<br>     (<span class="hljs-name">setq</span> p1 (<span class="hljs-name">point</span>))<br>     (<span class="hljs-name">skip-chars-forward</span> <span class="hljs-string">&quot;^)]&#125;&lt;&gt;&quot;</span>)<br>     (<span class="hljs-name">setq</span> p2 (<span class="hljs-name">point</span>))<br>     (<span class="hljs-name">delete-region</span> p1 p2))))<br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="defunä¸­çš„interactiveçš„ä½œç”¨"><a href="#defunä¸­çš„interactiveçš„ä½œç”¨" class="headerlink" title="defunä¸­çš„interactiveçš„ä½œç”¨"></a>defunä¸­çš„interactiveçš„ä½œç”¨</h4><p>å®šä¹‰å‡½æ•°æ—¶interactiveçš„ä½œç”¨æœ‰ä¸¤ä¸ª</p>
<ol>
<li>æ˜¯å‡½æ•°å¯ä»¥ä»¥å‘½ä»¤çš„å½¢å¼è°ƒç”¨,åŠé€šè¿‡M-xçš„æ–¹å¼</li>
<li>åœ¨interactiveååŠ ä¸Šå‚æ•°å¯ä»¥æ˜¯è°ƒç”¨è¯¥å‡½æ•°æ—¶å®ç°äº¤äº’å¼ä¼ å‚</li>
</ol>
<!--list-separator-->

<ul>
<li><p>å‚æ•°è¯´æ˜</p>
<ul>
<li><p>(ineractive)<br>å¯ä»¥ç”¨å‘½ä»¤è°ƒç”¨</p>
</li>
<li><p>(ineractive string)<br>stringç¬¬ä¸€ä¸ªå­—ç¬¦æŒ‡å®šè¾“å…¥çš„å†…å®¹,ä¾‹å¦‚ä¸ºsåˆ™è¡¨ç¤ºä¸ºè¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²,ä¸ºnåˆ™è¡¨ç¤ºæ•°å­—ç­‰,<br>è‹¥è¦ä»äº¤äº’ç•Œé¢è·å–å¤šä¸ªå‚æ•°å¯ä»¥ç”¨å›è½¦éš”å¼€</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs lisp">  (<span class="hljs-name">defun</span> ask-name-and-age (<span class="hljs-name">x</span> y)<br><span class="hljs-string">&quot;Ask name and age&quot;</span><br>(<span class="hljs-name">interactive</span><br> <span class="hljs-string">&quot;sEnter name</span><br><span class="hljs-string">  nEnter age:&quot;</span>)<br>(<span class="hljs-name">message</span> <span class="hljs-string">&quot;Name is: %s, Age is: %d&quot;</span> x y))<br></code></pre></td></tr></table></figure></li>
<li><p>(ineractive list)<br>è¿™ç§æ–¹å¼æ˜¯æœ€å¸¸ç”¨çš„ä¸€ç§æ–¹å¼,listä¸­å¯ä»¥æ˜¯ä»»ä½•è¡¨è¾¾å¼,åªè¦èƒ½å¤Ÿè¿”å›å¯¹åº”å‚æ•°ä¸ªæ•°çš„listå³å¯</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs lisp">  (<span class="hljs-name">defun</span> ask-name-and-age2 (<span class="hljs-name">x</span> y)<br><span class="hljs-string">&quot;Ask name and age&quot;</span><br>(<span class="hljs-name">interactive</span><br> (<span class="hljs-name">list</span><br>  (<span class="hljs-name">read-string</span> <span class="hljs-string">&quot;Enter</span><br><span class="hljs-string">name:&quot;</span>)<br>  (<span class="hljs-name">read-number</span> <span class="hljs-string">&quot;Enter age:&quot;</span>)))<br>(<span class="hljs-name">message</span> <span class="hljs-string">&quot;Name is: %s, Age is: %d&quot;</span> x y))<br></code></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<!--list-separator-->

<ul>
<li><p>thing-at-point</p>
<p> å‡½æ•°è°ƒç”¨:(thing-at-point THING &amp;optional NO-PROPERTIES)<br> å½“æˆ‘ä»¬ç”¨interactiveè¿›è¡Œäº¤äº’æ—¶,ä½¿ç”¨ <strong>thing-at-point</strong> æ˜¯éå¸¸æ–¹ä¾¿çš„,<br> ä¾‹å¦‚,æˆ‘ä»¬åœ¨å¯»æ±‚å¸®åŠ©æ—¶,ä½¿ç”¨çš„describe-function,describe-variable(å¯¹åº”å¿«æ·é”®C-h f,C-h k)æ—¶,<br> å°±ä¼šè·å–å½“å‰å…‰æ ‡å¤„çš„å‡½æ•°æˆ–å˜é‡,ä½¿å¾—æˆ‘ä»¬åœ¨è°ƒç”¨ä¸Šé¢ä¸¤ä¸ªå‘½ä»¤æ—¶,å¦‚æœæˆ‘ä»¬ä¸åšè¾“å…¥,å®ƒä¼šé»˜è®¤é€‰æ‹©å…‰æ ‡å¤„çš„å‡½æ•°æˆ–å˜é‡<br> thing-at-pointä¸ä»…å¯ä»¥è·å–å½“å‰å…‰æ ‡å¤„çš„å‡½æ•°å’Œå˜é‡,åŒæ—¶ä¹Ÿå¯ä»¥è·å–å…‰æ ‡å¤„çš„<br> â€˜symbol, â€˜list, â€˜sexp, â€˜defun, â€˜filename, â€˜url, â€˜email, â€˜uuid, â€˜word, â€˜sentence, â€˜whitespace, â€˜line, â€˜number, â€˜page.<br> åªéœ€è¦å°† <strong>thing-at-point</strong> çš„ç¬¬äºŒä¸ªå‚æ•°è®¾ä¸ºä¸Šé¢è¿™äº›å€¼å³å¯</p>
 <figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs lisp">(<span class="hljs-name">defun</span> test ()<br>  <span class="hljs-string">&quot;è·å–å•è¯&quot;</span><br>  (<span class="hljs-name">interactive</span>)<br>  (<span class="hljs-name">message</span> <span class="hljs-string">&quot;%s&quot;</span> (<span class="hljs-name">thing-at-point</span> &#x27;word)))<br></code></pre></td></tr></table></figure></li>
</ul>
<!--list-separator-->

<ul>
<li><p>bounds-of-thing-at-point</p>
<p> è·å–thing-at-pointçš„è¾¹ç•Œ,è¿”å›çš„æ˜¯ä¸€ä¸ªcons,å…¶ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºè¾¹ç•Œçš„å¼€å§‹çš„ä½ç½®,ç¬¬äºŒä¸ªå…ƒç´ ä¸ºè¾¹ç•Œç»“æŸçš„ä½ç½®</p>
 <figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs lisp">(<span class="hljs-name">defun</span> test ()<br>  (<span class="hljs-name">interactive</span>)<br>  (<span class="hljs-name">let</span> (<span class="hljs-name">bounds</span> pos1 pos2 mything)<br>    (<span class="hljs-name">setq</span> bounds (<span class="hljs-name">bounds-of-thing-at-point</span> &#x27;symbol))<br>    (<span class="hljs-name">setq</span> pos1 (<span class="hljs-name">car</span> bounds))<br>    (<span class="hljs-name">setq</span> pos2 (<span class="hljs-name">cdr</span> bounds))<br>    (<span class="hljs-name">setq</span> mything (<span class="hljs-name">buffer-substring-no-properties</span> pos1 pos2))<br>    (<span class="hljs-name">message</span><br>     <span class="hljs-string">&quot;thing begin at [%s],end at [%s],thing is [%s]&quot;</span><br>     pos1 pos2 mything))<br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="æŸ¥æ‰¾æ›¿æ¢"><a href="#æŸ¥æ‰¾æ›¿æ¢" class="headerlink" title="æŸ¥æ‰¾æ›¿æ¢"></a>æŸ¥æ‰¾æ›¿æ¢</h4><ul>
<li>search-forwardå’Œsearch-backward.<br>(search-forward STRING &amp;optional BOUND NOERROR COUNT)<br>å°†å…³é—­ç§»åŠ¨åˆ°è¦æŸ¥æ‰¾çš„å­—ç¬¦ä¸²å¼€å§‹ä½ç½®,</li>
<li>re-search-forwardå’Œre-search-backward<br>(re-search-forward REGEXP &amp;optional BOUND NOERROR COUNT)<br>ä¸ä¸Šé¢å‡½æ•°åŠŸèƒ½ä¸€æ ·,ä¸è¿‡åŒ¹é…çš„æ˜¯æ­£åˆ™è¡¨è¾¾å¼,è€Œéå­—ç¬¦ä¸²</li>
<li>search-forward-regexpå’Œsearch-backward-regexp<br>åˆ†åˆ«æ˜¯re-search-forwardå’Œre-search-backwardçš„åˆ«å</li>
<li>case-fold-searchå˜é‡å…¶å€¼é»˜è®¤ä¸ºt,è¡¨ç¤ºæŸ¥æ‰¾æ˜¯å¿½ç•¥å¤§å°å†™ä¸ºnilæ—¶,è¡¨ç¤ºä¸å¿½ç•¥å¤§å°å†™</li>
</ul>
<h3 id="elispè„šæœ¬"><a href="#elispè„šæœ¬" class="headerlink" title="elispè„šæœ¬"></a>elispè„šæœ¬</h3><h4 id="è¿è¡Œelispè„šæœ¬"><a href="#è¿è¡Œelispè„šæœ¬" class="headerlink" title="è¿è¡Œelispè„šæœ¬"></a>è¿è¡Œelispè„šæœ¬</h4><p>elispå¯ä»¥è¿è¡Œåœ¨ç»ˆç«¯,æ¯”å¦‚</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs lisp">emacs --script  /path/to/elisp-file<br></code></pre></td></tr></table></figure>




<h4 id="bufferç›¸å…³å‡½æ•°"><a href="#bufferç›¸å…³å‡½æ•°" class="headerlink" title="bufferç›¸å…³å‡½æ•°"></a>bufferç›¸å…³å‡½æ•°</h4><ul>
<li>buffer-name<br>(buffer-name &amp;optional BUFFER)<br>è·å–å½“å‰bufferåå­—</li>
<li>buffer-file-name<br>(buffer-file-name &amp;optional BUFFER)<br>è¿”å›å½“å‰bufferå¤„æ–‡ä»¶çš„ç»å¯¹è·¯å¾„,å¦‚æœä¸å­˜åœ¨åˆ™è¿”å›nil</li>
<li>with-current-buffer<br>(with-current-buffer BUFFER-OR-NAME &amp;rest BODY)<br>å°†æŸä¸ªç¼“å†²åŒºä½œä¸ºä¸´æ—¶çš„ç¼“å†²åŒº,æ‰§è¡Œå®Œbodyé‡Œçš„å†…å®¹åè¿”å›</li>
<li>set-buffer<br>(set-buffer BUFFER-OR-NAME)<br>è·³è½¬åˆ°æŒ‡å®šbuffer,ä½†è¯¥bufferä¸å¯è§,å¦‚æœéœ€è¦å¯è§å¯ä½¿ç”¨switch-to-buffer</li>
<li>generate-new-buffer<br>(generate-new-buffer NAME)<br>æ–°å»ºä¸€ä¸ªbuffer</li>
<li>get-buffer-create<br>(get-buffer-create BUFFER-OR-NAME)<br>æ–°å»ºä¸€ä¸ªbuffer,ä½†ä¸å°†å…¶ä½œä¸ºå½“å‰buffer</li>
<li>kill-buffer<br>(kill-buffer &amp;optional BUFFER-OR-NAME)<br>å…³é—­æŒ‡å®šbuffer</li>
</ul>
<h4 id="æ–‡ä»¶ç›¸å…³å‡½æ•°"><a href="#æ–‡ä»¶ç›¸å…³å‡½æ•°" class="headerlink" title="æ–‡ä»¶ç›¸å…³å‡½æ•°"></a>æ–‡ä»¶ç›¸å…³å‡½æ•°</h4><ul>
<li>directory-files<br>è¿”å›ä¸€ä¸ªå¸¦æœ‰è¯¥ç›®å½•ä¸‹æ‰€æœ‰æŒ‡å®šæ–‡ä»¶çš„list<br>ä¸ä¼šé€’å½’æŸ¥æ‰¾,å³å¦‚æœè¯¥ç›®å½•ä¸‹æœ‰å­ç›®å½•ä¸ä¼šå¯¹å­ç›®å½•è¿›è¡ŒæŸ¥æ‰¾<br>(directory-files DIRECTORY &amp;optional FULL MATCH NOSORT)<br>å‚æ•°1:ç›®å½•è·¯å¾„å‚æ•°2:è¿”å›çš„æ–‡ä»¶æ˜¯å¦ä¸ºç»å¯¹è·¯å¾„å‚æ•°3:æ–‡ä»¶åŒ¹é…çš„æ–¹å¼å‚æ•°4:æ˜¯å¦æ’åº</li>
<li>directory-files-recursively<br>é€’å½’æŸ¥æ‰¾æŒ‡å®šæ–‡ä»¶,åè¿”å›ä¸€ä¸ªå¸¦æœ‰æ‰€æœ‰æŒ‡å®šæ–‡ä»¶çš„list<br>ä¼šé€’å½’æŸ¥æ‰¾,å³å¦‚æœè¯¥ç›®å½•ä¸‹æœ‰å­ç›®å½•ä¼šå¯¹å­ç›®å½•è¿›è¡ŒæŸ¥æ‰¾ç”±äºä¼šé€’å½’æŸ¥æ‰¾æ‰€ä»¥ä¼šè¿”å›æ–‡ä»¶çš„ç›¸å¯¹è·¯è¿‘,è€Œéåªå«æ–‡ä»¶å<br>(directory-files-recursively DIR REGEXP &amp;optional INCLUDE-DIRECTORIES)</li>
</ul>
<h2 id="elisp-example"><a href="#elisp-example" class="headerlink" title="elisp example"></a>elisp example</h2><h2 id="emacs-write-major-mode"><a href="#emacs-write-major-mode" class="headerlink" title="emacs write major-mode"></a>emacs write major-mode</h2><h3 id="font-lock-mode"><a href="#font-lock-mode" class="headerlink" title="font lock mode"></a>font lock mode</h3><p>å®ƒæ˜¯emacså†…ç½®çš„ä¸€ä¸ªminor-mode,å®ƒä¸å½“å‰bufferçš„è¯­æ³•é«˜äº®æœ‰å…³,å…¶é«˜äº®è§„åˆ™é€šè¿‡ä¸¤ç§æ–¹å¼å®ç°</p>
<ol>
<li>Syntactic fontification<br>ä¸€äº›ä¸æ³¨é‡Šå­—ç¬¦ä¸²,ç¬¦å·ç›¸å…³çš„æ³¨é‡Š,å®ƒçš„æ³¨é‡Šå†…å®¹å­˜æ”¾åœ¨,Syntax Tableä¸­,å¯é€šè¿‡describe-syntaxå‘½ä»¤æŸ¥çœ‹</li>
<li>Search based fontification<br>ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æŸ¥æ‰¾ç›¸å…³å†…å®¹è¿›è¡Œé«˜äº®,é€šå¸¸é«˜äº®çš„æ˜¯ä¸€äº›å…³é”®å­—,å‡½æ•°å,å˜é‡åä¹‹ç±»çš„,å®ƒä¾èµ–äº,font-lock-defaultså˜é‡</li>
</ol>
<h3 id="font-lock-defaults"><a href="#font-lock-defaults" class="headerlink" title="font-lock-defaults"></a>font-lock-defaults</h3><p>è¯¥å˜é‡é€šå¸¸æ˜¯ä¸€ä¸ªlist,ä¸ºnilçš„è¯å°†ä¸ä¼šè¿›è¡Œä»»ä½•é«˜äº®,è€Œlisté‡Œé¢é€šå¸¸æœ‰å››ä¸ªå…³é”®å˜é‡</p>
<ol>
<li>font-lock-keywords<br>å…³é”®å­—çš„é«˜äº®è§„åˆ™</li>
<li>font-lock-keywords-only<br>å­—ç¬¦ä¸²å’Œæ³¨é‡Šç­‰çš„é«˜äº®è§„åˆ™</li>
<li>font-lock-keywords-case-fold-search<br>æ­£åˆ™è¡¨è¾¾å¼æ˜¯å¦åŒºåˆ†å¤§å°å†™</li>
<li>font-lock-syntax-table<br>ä¸syntaxæœ‰å…³</li>
</ol>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/geez6572/tags/emacs/" class="print-no-link">#emacs</a>
      
        <a href="/geez6572/tags/emacs-lisp/" class="print-no-link">#emacs lisp</a>
      
        <a href="/geez6572/tags/elisp/" class="print-no-link">#elisp</a>
      
        <a href="/geez6572/tags/learn/" class="print-no-link">#learn</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>emacs-lispå­¦ä¹ </div>
      <div>https://github.com/geez6572/2022/11/18/emacslisp/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>ä½œè€…</div>
          <div>geezer</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>å‘å¸ƒäº</div>
          <div>2022å¹´11æœˆ18æ—¥</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>è®¸å¯åè®®</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - ç½²å">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/geez6572/2023/09/27/cmake/" title="Cmakeå­¦ä¹ ">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Cmakeå­¦ä¹ </span>
                        <span class="visible-mobile">ä¸Šä¸€ç¯‡</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/geez6572/2022/11/18/orgmode/" title="orgmodeå­¦ä¹ ">
                        <span class="hidden-mobile">orgmodeå­¦ä¹ </span>
                        <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>ç›®å½•</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">å…³é”®è¯</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/geez6572/js/events.js" ></script>
<script  src="/geez6572/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/geez6572/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/geez6572/js/local-search.js" ></script>





<!-- ä¸»é¢˜çš„å¯åŠ¨é¡¹ï¼Œå°†å®ƒä¿æŒåœ¨æœ€åº•éƒ¨ -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/geez6572/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">åšå®¢åœ¨å…è®¸ JavaScript è¿è¡Œçš„ç¯å¢ƒä¸‹æµè§ˆæ•ˆæœæ›´ä½³</div>
  </noscript>
</body>
</html>
